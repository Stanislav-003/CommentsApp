@page "/logout"
@using Microsoft.EntityFrameworkCore.Metadata.Internal
@using frontend.Auth
@using Microsoft.AspNetCore.Components.Authorization
@rendermode InteractiveServer
@inject AuthenticationStateProvider AuthStateProvider
@inject NavigationManager Navigation

<h3>Logout</h3>

<button class="btn btn-danger" @onclick="PerformLogout">Logout</button>

@code {
    private async Task PerformLogout()
    {
        await ((CustomAuthStateProvider)AuthStateProvider).MarkUserAsLoggedOut();
        Navigation.NavigateTo("/login", true);
    }
}